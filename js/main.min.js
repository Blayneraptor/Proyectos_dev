$(document).ready((function () {
    $("body").addClass("smoothLoading"), setTimeout((() => { $("body").removeClass("smoothLoading") }), 1600), $(".project__slider").slick({ autoplay: !0, dots: !0 }), new SmoothScroll('a[href*="#"]', { header: "[data-scroll-header]", speed: 1e3, speedAsDuration: !0 }); const e = document.querySelector(".header"), t = document.querySelector(".header__logo-link"), s = document.querySelectorAll(".header__link"), a = document.querySelectorAll(".skills__item "), i = document.querySelector(".title__skills"), o = document.querySelector(".education__wrapper"), c = document.querySelectorAll("main>div"), l = document.querySelectorAll(".header__line"), n = document.querySelectorAll(".header__switch-scroll"); window.addEventListener("scroll", (() => { var r, _; h(i, a), h(o), _ = s, (r = c).forEach((a => { const i = a.offsetHeight, o = a.getBoundingClientRect().top + window.pageYOffset, c = document.querySelector(".header").getBoundingClientRect().height + window.pageYOffset; let h = window.pageYOffset + window.innerHeight - r[r.length - 1].getBoundingClientRect().height; const u = r[r.length - 1].getBoundingClientRect().top + window.pageYOffset; (o < c & c < o + i || h > u) && _.forEach((i => { e.classList.add("header_active"), t.classList.add("header__logo-link_active"), s.forEach((e => { e.classList.contains("header__link_select") && e.classList.add("header__link-select_active"), e.classList.add("header__link_active") })), d.classList.add("header__navigation_active-scroll"), l.forEach((e => { e.style.backgroundColor = "#000" })), n.forEach((e => { e.classList.contains("header__switch-lang_active") && e.classList.add("header__scroll_select"), e.classList.add("header__scroll_active") })), a.id === i.hash.replace(/#/, "") ? i.classList.add("header__link-select_active") : i.classList.remove("header__link-select_active"), "home" === a.id && window.pageYOffset < document.querySelector(".header").getBoundingClientRect().height && (s.forEach((e => { e.classList.remove("header__link-select_active"), e.classList.remove("header__link_active") })), e.classList.remove("header_active"), t.classList.remove("header__logo-link_active"), l.forEach((e => { e.style.backgroundColor = "#fff" })), n.forEach((e => { e.classList.contains("header__switch-lang_active") && e.classList.remove("header__scroll_select"), e.classList.remove("header__scroll_active") }))), "home" === a.id && window.pageYOffset < document.querySelector(".header").getBoundingClientRect().height && window.innerWidth <= 767 && (e.classList.remove("header_active"), t.classList.remove("header__logo-link_active"), d.classList.remove("header__navigation_active-scroll"), l.forEach((e => { e.style.backgroundColor = "#fff" }))) })) })) })), window.addEventListener("load", (() => { window.pageYOffset > i.getBoundingClientRect().top - window.innerHeight - i.offsetHeight / 2 && a.forEach((e => { e.classList.add("skills__item_show") })), window.pageYOffset > document.querySelector(".header").getBoundingClientRect().height && (e.classList.add("header_active"), t.classList.add("header__logo-link_active"), s.forEach((e => { e.classList.contains("header__link-select") && e.classList.add("header__link-select_active"), e.classList.add("header__link_active") })), l.forEach((e => { e.style.backgroundColor = "#000" })), n.forEach((e => { e.classList.contains("header__switch-lang_active") && e.classList.add("header__scroll_select"), e.classList.add("header__scroll_active") }))) })); const r = document.querySelector(".header__hamburger"), d = document.querySelector(".header__navigation"); function _() { document.querySelectorAll(".logo__subtitle").forEach(((e, t) => { setTimeout((() => { e.classList.add("logo__subtitle_show"), setTimeout((() => { e.classList.remove("logo__subtitle_show") }), 1800) }), 2700 * ++t) })) } function h(e, t) { const s = e.offsetHeight, a = e.getBoundingClientRect().top + window.pageYOffset; let i = window.innerHeight - s / 4; s > window.innerHeight && (i = window.innerHeight - window.innerHeight / 4), window.pageYOffset > a - i && window.pageYOffset < a + s && (e.classList.contains("title__skills") && t.forEach((e => { e.classList.add("skills__item_show") })), e.classList.contains("education__wrapper") && e.classList.add("active"), e.classList.contains("education__wrapper_count") && (e.classList.remove("education__wrapper_count"), setTimeout((() => { v(1, u, u.max, 50) }), 100), setTimeout((() => { v(1, g, g.max, 200) }), 4e3))) } r.addEventListener("click", (() => { r.classList.toggle("active"), d.classList.toggle("header__navigation_active"), s.forEach((e => { e.addEventListener("click", (() => { r.classList.remove("active"), d.classList.remove("header__navigation_active") })) })) })), _(), setInterval((() => { _() }), 8e3); let u = document.querySelector(".counter__tasks"), g = document.querySelector(".counter__rank"); function v(e, t, s, a) { let i = e, o = setInterval((() => { t.value = i, i == s && clearInterval(o), i++ }), a) }

    // Funciones adicionales para el sitio web
    function copyToClipboard(text) { navigator.clipboard.writeText(text).then(() => { alert('Â¡Copiado al portapapeles!'); }).catch(err => { console.error('Error al copiar al portapapeles:', err); }); }
    document.getElementById('copyPhone') && document.getElementById('copyPhone').addEventListener('click', function (event) { event.preventDefault(); const phoneNumber = '+34645448914'; copyToClipboard(phoneNumber); });
    document.getElementById('copyEmail') && document.getElementById('copyEmail').addEventListener('click', function (event) { event.preventDefault(); const email = 'cousoworks@gmail.com'; copyToClipboard(email); });
    const yearElement = document.getElementById('year'); if (yearElement) { const currentYear = new Date().getFullYear(); yearElement.textContent = currentYear; }

    // Modal de perfil
    document.addEventListener('DOMContentLoaded', function () { const modal = document.createElement('div'); modal.className = 'profile-modal'; modal.innerHTML = '<div class="profile-modal-content"><span class="profile-modal-close">&times;</span><img src="assets/img/logo/author.jpg" alt="Profile Image" class="profile-modal-image"></div>'; document.body.appendChild(modal); const logoAuthor = document.querySelector('.logo__author'); if (logoAuthor) { logoAuthor.addEventListener('click', function () { modal.classList.add('show'); document.body.style.overflow = 'hidden'; }); } const closeBtn = modal.querySelector('.profile-modal-close'); closeBtn.addEventListener('click', function () { modal.classList.remove('show'); document.body.style.overflow = ''; }); modal.addEventListener('click', function (e) { if (e.target === modal) { modal.classList.remove('show'); document.body.style.overflow = ''; } }); document.addEventListener('keydown', function (e) { if (e.key === 'Escape' && modal.classList.contains('show')) { modal.classList.remove('show'); document.body.style.overflow = ''; } }); });

}));